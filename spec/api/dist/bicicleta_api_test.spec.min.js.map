{"version":3,"sources":["bicicleta_api_test.spec.js"],"names":["Bicicleta","require","request","describe","server","it","expect","allBicis","length","toBe","a","addListener","error","response","body","get","statusCode","headers","done","post","content-type","url","aBici","findById"],"mappings":"aAAA,IAAIA,UAAYC,QAAS,0BACrBC,QAAUD,QAAQ,WADlBD,OAASC,QAAGA,iBAKhBE,SAAS,gBAAiB,WAHtBC,SAASH,mBAAQ,WAKbI,GAAG,aAAc,WAFhBC,OAAAN,UAAiBO,SAAMC,QAAAC,KAAA,GAErB,IAAAC,EAAD,IAAeV,UAAM,EAAA,QAAA,UAAA,aACbA,UAAUW,YAAUH,GAG1BR,QAAUW,IAAAA,uCAAV,SAAAC,EAAAC,EAAAC,GAEQC,OAAIF,EAAAG,WAAAP,KAAA,cAShBJ,SAAG,2BAAwB,WAEnBY,GAAAA,aAAU,SAAAC,GAENC,QAAKA,KAAA,CACAF,QAHb,CAAAG,eAAA,oBAISC,IAAA,8CACCC,KAJE,wEAKT,SAAkBT,EAAlBA,EAAkCC,GAC1BD,OAASG,EAAVA,YAANP,KAAA,KACOT,OAAUuB,UAASA,SAA1B,IAAqCd,OAAKA,KAA1C,QACIS","file":"bicicleta_api_test.spec.min.js","sourcesContent":["var Bicicleta = require ('../../models/bicicleta');\nvar request = require('request');\nvar server = require('../../bin/www');\n\n\ndescribe('Bicicleta API', () => {\n    describe('GET BICICLETAS /', () => {\n        it('Status 200', () => {\n            expect(Bicicleta.allBicis.length).toBe(0);\n\n            var a = new Bicicleta (1, 'negro', 'urbana' [-34.60122424, -58.3861797]);\n            Bicicleta.addListener(a);\n\n            request.get('http://localhost:3000/api/bicicletas', function(error, response, body){\n                expect(response.statusCode.toBe(200));\n            });\n        });\n    });\n});\n\n\ndescribe('POST BICICLETAS / create', () => {\n        it('STATUS 200', (done) => {\n\n            var headers = {'content-type' : 'application/json'};\n            var aBici = '{\"id\": 10, \"color\": rojo, \"modelo\":\"urbana\", \"lat\": -34, \"lng\": -54}';\n            request.post({\n                headers: headers,\n                url: 'http://localhost:3000/api/bicicletas/create',\n                body: aBici\n            }, function ( error, response, body) {\n                expect(response.statusCode).toBe(200);\n                expect(Bicicleta.findById(10).color).toBe(\"rojo\");\n                done();\n            \n        });\n    });\n});\n\n"]}