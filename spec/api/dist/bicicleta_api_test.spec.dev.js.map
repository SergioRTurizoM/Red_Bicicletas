{"version":3,"sources":["bicicleta_api_test.spec.js"],"names":["Bicicleta","require","request","server","describe","it","expect","allBicis","length","toBe","a","addListener","get","error","response","body","statusCode","done","headers","aBici","post","url","findById","color"],"mappings":";;AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAE,wBAAF,CAAvB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAAC,eAAD,CAApB;;AAGAG,QAAQ,CAAC,eAAD,EAAkB,YAAM;AAC5BA,EAAAA,QAAQ,CAAC,kBAAD,EAAqB,YAAM;AAC/BC,IAAAA,EAAE,CAAC,YAAD,EAAe,YAAM;AACnBC,MAAAA,MAAM,CAACN,SAAS,CAACO,QAAV,CAAmBC,MAApB,CAAN,CAAkCC,IAAlC,CAAuC,CAAvC;AAEA,UAAIC,CAAC,GAAG,IAAIV,SAAJ,CAAe,CAAf,EAAkB,OAAlB,EAA2B,UAAU,CAAC,WAAD,EAAc,CAAC,UAAzB,EAA3B,CAAR;AACAA,MAAAA,SAAS,CAACW,WAAV,CAAsBD,CAAtB;AAEAR,MAAAA,OAAO,CAACU,GAAR,CAAY,sCAAZ,EAAoD,UAASC,KAAT,EAAgBC,QAAhB,EAA0BC,IAA1B,EAA+B;AAC/ET,QAAAA,MAAM,CAACQ,QAAQ,CAACE,UAAT,CAAoBP,IAApB,CAAyB,GAAzB,CAAD,CAAN;AACH,OAFD;AAGH,KATC,CAAF;AAUH,GAXO,CAAR;AAYH,CAbO,CAAR;AAgBAL,QAAQ,CAAC,0BAAD,EAA6B,YAAM;AACnCC,EAAAA,EAAE,CAAC,YAAD,EAAe,UAACY,IAAD,EAAU;AAEvB,QAAIC,OAAO,GAAG;AAAC,sBAAiB;AAAlB,KAAd;AACA,QAAIC,KAAK,GAAG,sEAAZ;AACAjB,IAAAA,OAAO,CAACkB,IAAR,CAAa;AACTF,MAAAA,OAAO,EAAEA,OADA;AAETG,MAAAA,GAAG,EAAE,6CAFI;AAGTN,MAAAA,IAAI,EAAEI;AAHG,KAAb,EAIG,UAAWN,KAAX,EAAkBC,QAAlB,EAA4BC,IAA5B,EAAkC;AACjCT,MAAAA,MAAM,CAACQ,QAAQ,CAACE,UAAV,CAAN,CAA4BP,IAA5B,CAAiC,GAAjC;AACAH,MAAAA,MAAM,CAACN,SAAS,CAACsB,QAAV,CAAmB,EAAnB,EAAuBC,KAAxB,CAAN,CAAqCd,IAArC,CAA0C,MAA1C;AACAQ,MAAAA,IAAI;AAEX,KATG;AAUP,GAdK,CAAF;AAeP,CAhBO,CAAR","sourcesContent":["var Bicicleta = require ('../../models/bicicleta');\nvar request = require('request');\nvar server = require('../../bin/www');\n\n\ndescribe('Bicicleta API', () => {\n    describe('GET BICICLETAS /', () => {\n        it('Status 200', () => {\n            expect(Bicicleta.allBicis.length).toBe(0);\n\n            var a = new Bicicleta (1, 'negro', 'urbana' [-34.60122424, -58.3861797]);\n            Bicicleta.addListener(a);\n\n            request.get('http://localhost:3000/api/bicicletas', function(error, response, body){\n                expect(response.statusCode.toBe(200));\n            });\n        });\n    });\n});\n\n\ndescribe('POST BICICLETAS / create', () => {\n        it('STATUS 200', (done) => {\n\n            var headers = {'content-type' : 'application/json'};\n            var aBici = '{\"id\": 10, \"color\": rojo, \"modelo\":\"urbana\", \"lat\": -34, \"lng\": -54}';\n            request.post({\n                headers: headers,\n                url: 'http://localhost:3000/api/bicicletas/create',\n                body: aBici\n            }, function ( error, response, body) {\n                expect(response.statusCode).toBe(200);\n                expect(Bicicleta.findById(10).color).toBe(\"rojo\");\n                done();\n            \n        });\n    });\n});\n\n"],"file":"bicicleta_api_test.spec.dev.js"}