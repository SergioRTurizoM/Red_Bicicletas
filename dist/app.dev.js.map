{"version":3,"sources":["app.js"],"names":["createError","require","express","path","cookieParser","logger","passport","deserializeUser","indexRouter","usersRouter","bicicletasRouter","bicicletasAPIRouter","usuarioAPIROuter","store","session","MemoryStore","app","mongoose","mongoDB","connect","useNewUrlParser","Promise","global","db","connection","on","console","error","bind","set","join","__dirname","use","json","urlencoded","extended","get","req","res","render","next","post","redirect","err","locals","message","status","module","exports"],"mappings":"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","sourcesContent":["var createError = require('http-errors');\nvar express = require('express');\nvar path = require('path');\nvar cookieParser = require('cookie-parser');\nvar logger = require('morgan');\nconst passport = require('/config/passport');\nconst deserializeUser = require ('/config/passport.js');\n\nvar indexRouter = require('./routes/index');\nvar usersRouter = require('./routes/users');\nvar bicicletasRouter = require('./routes/bicicletas');\nvar bicicletasAPIRouter = require('./routes/api/bicicletas');\nvar usuarioAPIROuter = require ('./routes/api/usuarios');\n\nconst store = new session.MemoryStore; \n\nvar app = express();\n\nvar mongoose = require('mongoose');\n\nvar mongoDB = 'mongodb://localhost/red_bicicletas';\nmongoose.connect(mongoDB, { useNewUrlParser: true});\nmongoose.Promise = global.Promise;\nvar db = mongoose.connection;\ndb.on('error', console.error.bind(console, 'MongoDB connection error: '));\n\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'pug');\n\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.get('/login', function (req, res) {\n  res.render('session/login');\n});\n\napp.use('/', indexRouter);\napp.use('/users', usersRouter);\napp.use('/bicicletas', bicicletasRouter);\napp.use('/api/bicicletas', bicicletasAPIRouter);\n\n// catch 404 and forward to error handler\napp.use(function(req, res, next) {\n  next(createError(404));\n});\n\n\napp.post('/login', function(req, res, next) {\n  //passport\n});\n\napp.get('/logout', function(req, res, next) {\n  res.redirect('/');\n});\n\napp.get ('/forgotPassword', function(req, res) {\n\n});\n\napp.post('/forgotPassword', function(req, res){\n  \n})\n\n// error handler\napp.use(function(err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\n\nmodule.exports = app;\n"],"file":"app.dev.js"}