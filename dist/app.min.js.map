{"version":3,"sources":["app.js"],"names":["createError","require","express","cookieParser","passport","path","session","jwt","indexRouter","bicicletasRouter","deserializeUser","usuarioAPIROuter","store","MemoryStore","app","mongoose","mongoDB","usersRouter","useNewUrlParser","Promise","global","db","on","console","error","bind","set","join","__dirname","use","logger","urlencoded","extended","connect","get","req","res","bicicletasAPIRouter","next","render","err","locals","message","status","module","exports"],"mappings":"aAAA,IAAIA,YAAcC,QAAQ,eACtBC,QAAUD,QAAQ,WADlBD,KAAAA,QAAcC,QAGdE,aAAeF,QAAQ,iBAFvBC,OAAOD,QAAU,UAIfG,SAAWH,QAAQ,oBAHrBI,gBAAeJ,QAAnB,uBAKMK,QAAUL,QAAS,mBAJrBE,MAAAA,eAMEI,IAAMN,QAAQ,gBAEhBO,YAAcP,QAAQ,kBANpBG,YAAWH,QAAQ,kBAQrBQ,iBAAmBR,QAAQ,uBAPzBS,oBAAkBT,QAAS,2BAS7BU,iBAAmBV,QAAS,yBAE1BW,MAAQ,IAAIN,QAAQO,YAEtBC,IAAMZ,UAENa,SAAWd,QAAQ,YAEnBe,QAAU,qCAXdD,SAAIE,QAAWD,QAAW,CAAAE,iBAA1B,IAaAH,SAASI,QAAUC,OAAOD,QAZ1B,IAAIV,GAAAA,SAAAA,WAcJY,GAAGC,GAAG,QAASC,QAAQC,MAAMC,KAAKF,QAAS,+BAI3CT,IAAIY,IAAI,QAASrB,KAAKsB,KAAKC,UAAW,UAdtCd,IAAMF,IAAAA,cAAmB,OAiBzBE,IAAIe,IAAIC,OAAO,QAbfhB,IAAIC,IAAAA,QAAWd,QAefa,IAAIe,IAAI3B,QAAQ6B,WAAW,CAAEC,UAAU,KAbvClB,IAAIE,IAAAA,gBACJD,IAAAA,IAAQb,QAAC+B,OAAQjB,KAASW,KAAAC,UAAA,YAAAd,IAA1BoB,IAAA,SAAA,SAAAC,EAAAC,GACArB,EAAAA,OAASI,mBAmBTL,IAAIe,IAAI,IAAKrB,aAbbM,IAAIY,IAAI,SAASrB,aACjBS,IAAIY,IAAI,cAAejB,kBAEvBK,IAAIe,IAAIC,kBAARO,qBAE6BL,IAAAA,IAAAA,SAAUG,EAAAC,EAAAE,GAAvCA,EAAAtC,YAAA,QAKEoC,IAAAA,KAAIG,SAAO,SAAXJ,EAAAC,EAAAE,MAKFxB,IAAIe,IAAI,UAAA,SAAepB,EAAAA,EAAAA,GACvBK,EAAIe,SAAI,OAINS,IAAAA,IAAKtC,kBAAL,SAAAmC,EAAAC,MAQFtB,IAAIoB,KAAI,kBAAW,SAAAC,EAAmBG,MAatCxB,IAAIe,IAAI,SAASW,EAAKL,EAAKC,EAAKE,GAC9BF,EAAAK,OAAAC,QAAAF,EAAAE,QACAN,EAAIK,OAAOC,MAAX,gBAAAP,EAAqBK,IAAIE,IAAAA,OAAzBF,EAAA,GAIAJ,EAAIO,OAAOH,EAAIG,QAAU,KACzBP,EAAIG,OAAO,WAGbK,OAAOC,QAAU/B","file":"app.min.js","sourcesContent":["var createError = require('http-errors');\nvar express = require('express');\nvar path = require('path');\nvar cookieParser = require('cookie-parser');\nvar logger = require('morgan');\nconst passport = require('/config/passport');\nconst deserializeUser = require ('/config/passport.js');\nconst session = require ('express-session');\nconst Token = ('jsonwebtoken')\nconst jwt = require('jsonwebtoken');\n\nvar indexRouter = require('./routes/index');\nvar usersRouter = require('./routes/users');\nvar bicicletasRouter = require('./routes/bicicletas');\nvar bicicletasAPIRouter = require('./routes/api/bicicletas');\nvar usuarioAPIROuter = require ('./routes/api/usuarios');\n\nconst store = new session.MemoryStore; \n\nvar app = express();\n\nvar mongoose = require('mongoose');\n\nvar mongoDB = 'mongodb://localhost/red_bicicletas';\nmongoose.connect(mongoDB, { useNewUrlParser: true});\nmongoose.Promise = global.Promise;\nvar db = mongoose.connection;\ndb.on('error', console.error.bind(console, 'MongoDB connection error: '));\n\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'pug');\n\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.get('/login', function (req, res) {\n  res.render('session/login');\n});\n\napp.use('/', indexRouter);\napp.use('/users', usersRouter);\napp.use('/bicicletas', bicicletasRouter);\napp.use('/api/bicicletas', bicicletasAPIRouter);\n\n// catch 404 and forward to error handler\napp.use(function(req, res, next) {\n  next(createError(404));\n});\n\n\napp.post('/login', function(req, res, next) {\n  //passport\n});\n\napp.get('/logout', function(req, res, next) {\n  res.redirect('/');\n});\n\napp.get ('/forgotPassword', function(req, res) {\n\n});\n\napp.post('/forgotPassword', function(req, res){\n\n})\n\n// error handler\napp.use(function(err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\n\nmodule.exports = app;\n"]}